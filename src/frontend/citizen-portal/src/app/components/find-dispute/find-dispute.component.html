<app-page>
  <app-page-header>
    <ng-container header>Update your Traffic Dispute</ng-container>
    <ng-container subHeader>
      Enter your ticket information.
    </ng-container>
  </app-page-header>

  <div class="flex flex-last">
    <div class="flex-2-col info">
      <form [formGroup]="form" (ngSubmit)="onSearch()" novalidate>
        <div class="row">

          <div class="col">
            <mat-form-field class="w-100">
              <mat-label>Enter violation ticket number</mat-label>
              <input formControlName="ticketNumber" placeholder="XX00000000" matInput type="text"
                oninput="this.value = this.value.toUpperCase()" mask="SS00000000" autocomplete="off" />
              <button mat-button matSuffix mat-icon-button aria-label="Clear"
                (click)="form.controls.ticketNumber.setValue('')">
                <mat-icon>close</mat-icon>
              </button>
              <mat-error>{{ "error.required" | translate }}</mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <mat-form-field style="width: 100%;">
            <mat-label>Enter violation time</mat-label>
            <input matInput hidden aria-label="default time" formControlName="time" />
            <ngx-timepicker-field formControlName="time" [format]="24"></ngx-timepicker-field>
            <mat-error>{{ "error.required" | translate }}</mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <div class="col">
            <button type="submit" mat-flat-button color="primary" class="find-large">
              <mat-icon class="me-2">search</mat-icon>
              Find ticket
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="dispute-footer w-100 mb-4 d-print-none p-2">    
    <span>
      Your information is collected by Court Services Branch under sections 26(c) of the Freedom of Information and Protection of Privacy Act 
      for the purpose of verifying your identity when you access your dispute using Traffic Court Online. Should you have any questions about 
      the collection of your personal information, please contact TCO Support at:
      <a href="mailto:Courts.TCO@gov.bc.ca">Courts.TCO@gov.bc.ca</a>.
    </span>      
  </div>
</app-page>
