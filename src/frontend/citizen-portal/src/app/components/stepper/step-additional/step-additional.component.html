<app-stepper-page>
  <app-page-header>
    <ng-container subHeader>
      The following options apply to all counts on this ticket that are being
      disputed.
    </ng-container>
  </app-page-header>

  <form (ngSubmit)="onSubmit()" [formGroup]="form" novalidate>
    <section>
      <h3>Please indicate which (if any) of the following apply to you:</h3>
      <div class="row">
        <div class="col">
          <mat-checkbox
            class="me-4 mb-2"
            color="primary"
            formControlName="lawyerPresent"
          >
            I intend to be represented by a lawyer in court.
          </mat-checkbox>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <mat-checkbox
            class="me-4 mb-2"
            color="primary"
            formControlName="interpreterRequired"
          >
            I require a language interpreter at the hearing.
          </mat-checkbox>
          <!--
          <mat-error *ngIf="formStepCourt.hasError('requiredIfTrue')">
            {{ 'error.required' | translate }}
          </mat-error>-->
        </div>
      </div>

      <div class="row" *ngIf="interpreterRequired.value">
        <div class="col">
          <mat-form-field class="w-100">
            <mat-label>{{
              "stepper.additional.interpreter_language" | translate
            }}</mat-label>
            <mat-select formControlName="interpreterLanguage">
              <mat-option
                *ngFor="let language of languages"
                [value]="language.code"
              >
                {{ language.name }}
              </mat-option>
            </mat-select>
            <mat-error>{{ "error.required" | translate }}</mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <mat-checkbox
            class="me-4 mb-2"
            color="primary"
            formControlName="witnessPresent"
          >
            I intent to call a witness(es). You may have a maximum of 5
            witnesses.
          </mat-checkbox>
        </div>
      </div>

      <div class="row" *ngIf="witnessPresent.value">
        <div class="col">
          <mat-form-field>
            <mat-label>Number of witnesses</mat-label>
            <input matInput type="number" formControlName="numberOfWitnesses" />
          </mat-form-field>
        </div>
      </div>
    </section>
  </form>

  <div class="col">
    <app-alert type="warning" icon="warning">
      <ng-container #alertContent class="alert-content">
        <strong
          >If you are calling a witness please keep the following information in
          mind:</strong
        ><br />
        If the disputant or the disputant’s agent does not attend the court
        hearing, the court will treat the violation ticket as not disputed, the
        conviction(s) to the allegation(s) will be recorded against the record
        of the disputant.
      </ng-container>
    </app-alert>
  </div>

  <div class="col mt-4">
    <app-alert type="warning" icon="warning">
      <ng-container #alertContent class="alert-content">
        If the disputant or the disputant’s agent does not attend the court
        hearing, the court will treat the violation ticket as not disputed, the
        conviction(s) to the allegation(s) will be recorded against the record
        of the disputant, and the prescribed ticketed amount(s) will become
        immediately due and payable.
      </ng-container>
    </app-alert>
  </div>

  <app-page-footer
    (save)="onSubmit()"
    (back)="onBack()"
    [secondaryActionButtonIcon]="previousButtonIcon"
    [secondaryActionButtonKey]="previousButtonKey"
    [saveButtonKey]="saveButtonKey"
    [hasSecondaryAction]="true"
  ></app-page-footer>
</app-stepper-page>
