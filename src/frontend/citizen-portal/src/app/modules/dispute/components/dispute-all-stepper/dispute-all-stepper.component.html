<app-header></app-header>

<div class="container">
  <div class="row mt-4">
    <div class="col-lg-2 d-none d-lg-block">
      <div class="logo mt-4">
        <img
          src="/assets/tco_ticket_types_small.png"
          style="width: 150px"
          alt="Traffic Court Logo"
        />
      </div>
    </div>

    <div class="col-lg-10">
      <app-page [busy]="busy">
        <app-tco-page-header>
          <ng-container header>BC Traffic Court Dispute</ng-container>
        </app-tco-page-header>

        <mat-vertical-stepper
          #disputeStepper
          linear
          (selectionChange)="onSelectionChange($event)"
        >
          <mat-step [stepControl]="disputantForm" label="Disputant Information">
            <app-step-disputant
              id="stepDisputant"
              [stepper]="disputeStepper"
              (stepCancel)="onStepCancel()"
              (stepSave)="onStepSave($event)"
            ></app-step-disputant>
          </mat-step>

          <mat-step [stepControl]="offence1Form" *ngIf="offence1Exists">
            <ng-template matStepLabel>Count #1 Review and Action</ng-template>
            <app-step-count
              id="stepCount"
              [stepControl]="offence1Form"
              [stepper]="disputeStepper"
              (stepSave)="onStepSave($event)"
            ></app-step-count>
          </mat-step>

          <mat-step [stepControl]="offence2Form" *ngIf="offence2Exists">
            <ng-template matStepLabel>Count #2 Review and Action</ng-template>
            <app-step-count
              id="stepCount"
              [stepControl]="offence2Form"
              [stepper]="disputeStepper"
              (stepSave)="onStepSave($event)"
            ></app-step-count>
          </mat-step>

          <mat-step [stepControl]="offence3Form" *ngIf="offence3Exists">
            <ng-template matStepLabel>Count #3 Review and Action</ng-template>
            <app-step-count
              id="stepCount"
              [stepControl]="offence3Form"
              [stepper]="disputeStepper"
              (stepSave)="onStepSave($event)"
            ></app-step-count>
          </mat-step>

          <mat-step
            label="Additional Information"
            [stepControl]="additionalForm"
          >
            <app-step-additional
              id="stepCourt"
              [stepper]="disputeStepper"
              (stepSave)="onStepSave($event)"
            ></app-step-additional>
          </mat-step>

          <mat-step label="Dispute Overview" [stepControl]="overviewForm">
            <app-step-overview
              id="stepOverview"
              [stepper]="disputeStepper"
              (busy)="(busy)"
              (stepSave)="onStepSave($event)"
            ></app-step-overview>
          </mat-step>
        </mat-vertical-stepper>
      </app-page>
    </div>
  </div>
</div>
